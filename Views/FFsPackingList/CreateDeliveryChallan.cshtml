
@model FabDeliveryChallanViewModel

@{
    ViewData["Title"] = "Fabric Delivery Challan [Export]";
}

<h2><i class="fa fa-plus-circle fa-lg text-success" aria-hidden="true"></i> @ViewData["Title"]</h2>
<hr />

<div class="container-fluid">
    <form id="form" role="form" asp-action="CreateDeliveryChallan">
        <div class="panel panel-default">
            <div class="panel-body row">
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliveryChallanPackMaster.D_CHALLANDATE" class="control-label"></label>
                        <input asp-for="FFsDeliveryChallanPackMaster.D_CHALLANDATE" class="form-control" />
                        <span asp-validation-for="FFsDeliveryChallanPackMaster.D_CHALLANDATE" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliveryChallanPackMaster.DELIVERY_TYPE" class="control-label"></label>
                        @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.DELIVERY_TYPE, new SelectList(Model.FBasDeliveryTypes, "ID", "DEL_TYPE"), "Select Delivery Type.", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="FFsDeliveryChallanPackMaster.DELIVERY_TYPE" class="text-danger"></span>
                    </div>
                </div>
                <div id="expDiv">
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.DOID" class="control-label"></label>
                            @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.DOID, new SelectList(Model.DoMasters, "TRNSID", "DONO"), "Select DO No.", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.DOID" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="control-label">Do Balance</label>
                            <input class="form-control" asp-for="FFsDeliveryChallanPackMaster.DO_BALANCE" id="doBalance" readonly="readonly" />
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.PIID" class="control-label"></label>
                            @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.PIID, new SelectList(Model.PiMasters, "PIID", "PINO"), "Select PI No.", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.PIID" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.SO_NO" class="control-label"></label>
                            @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.SO_NO, new SelectList(Model.PiDetails, "TRNSID", "SO_NO"), "Select So No.", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.SO_NO" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="control-label">PI Balance</label>
                            <input class="form-control" asp-for="FFsDeliveryChallanPackMaster.PI_BALANCE" id="piBalance" readonly="readonly" />
                        </div>
                    </div>

                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="control-label">Order Balance</label>
                            <input class="form-control" asp-for="FFsDeliveryChallanPackMaster.SO_BALANCE" id="orderBalance" readonly="readonly" />
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="control-label">Buyer</label>
                            <span class="custom-form-control-bg form-control bg-e9ecef" id="buyer">
                            </span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="control-label">L/C No</label>
                            <span class="custom-form-control-bg form-control bg-e9ecef" id="lc">
                            </span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="control-label">L/C Date</label>
                            <span class="custom-form-control-bg form-control bg-e9ecef" id="lcDate">
                            </span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="control-label">Value</label>
                            <span class="custom-form-control-bg form-control bg-e9ecef" id="value">
                            </span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.VEHICLENONavigation.VNUMBER" class="control-label"></label>
                            @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.VEHICLENO, new SelectList(Model.FBasVehicleInfos, "VID", "VNUMBER"), "Select Vehicle No.", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.VEHICLENO" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.DRIVER" class="control-label"></label>
                            <input asp-for="FFsDeliveryChallanPackMaster.DRIVER" class="form-control" />
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.DRIVER" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.LOCKNO" class="control-label"></label>
                            <input asp-for="FFsDeliveryChallanPackMaster.LOCKNO" class="form-control" />
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.LOCKNO" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12 d-none">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.DC_NO" class="control-label"></label>
                            <input asp-for="FFsDeliveryChallanPackMaster.DC_NO" class="form-control" readonly="readonly" />
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.DC_NO" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12 d-none">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.GP_NO" class="control-label"></label>
                            <input asp-for="FFsDeliveryChallanPackMaster.GP_NO" class="form-control" readonly="readonly" />
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.GP_NO" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliveryChallanPackMaster.ISSUE_TYPE" class="control-label"></label>
                            @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.ISSUE_TYPE, new SelectList(Model.FFsIssueTypes, "ID", "ISSUE_TYPE"), "Select Issue Type.", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                            <span asp-validation-for="FFsDeliveryChallanPackMaster.ISSUE_TYPE" class="text-danger"></span>
                        </div>
                    </div>
                </div>
                @*<div id="localDiv">*@
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12 d-none" id="localDiv1">
                    <div class="form-group">
                        <label asp-for="FFsDeliveryChallanPackMaster.DOID_LOCAL" class="control-label"></label>
                        @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.DOID_LOCAL, new SelectList(Model.DoLocalList, "TRNSID", "DONO"), "Select Do No.", new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="FFsDeliveryChallanPackMaster.DOID_LOCAL" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12 d-none" id="localDiv2">
                    <div class="form-group">
                        <label asp-for="FFsDeliveryChallanPackMaster.SCID" class="control-label"></label>
                        @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.SCID, new SelectList(Model.ScList, "SCID", "SCNO"), "Select Sales Contact No.", new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="FFsDeliveryChallanPackMaster.SCID" class="text-danger"></span>
                    </div>
                </div>
                @*</div>*@
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliveryChallanPackMaster.BUYERID" class="control-label"></label>
                        @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.BUYERID, new SelectList(Model.BasBuyerInfos, "BUYERID", "BUYER_NAME"), "Select Buyer Name", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="FFsDeliveryChallanPackMaster.BUYERID" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliveryChallanPackMaster.AUDITBY" class="control-label"></label>
                        @Html.DropDownListFor(dt => dt.FFsDeliveryChallanPackMaster.AUDITBY, new SelectList(Model.FHrEmployees, "EMPID", "FIRST_NAME"), "Select Audit By", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="FFsDeliveryChallanPackMaster.AUDITBY" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliveryChallanPackMaster.AUDIT_COMMENTS" class="control-label"></label>
                        <input asp-for="FFsDeliveryChallanPackMaster.AUDIT_COMMENTS" class="form-control" />
                        <span asp-validation-for="FFsDeliveryChallanPackMaster.AUDIT_COMMENTS" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label class="control-label">PI QTY</label>
                        <span class="custom-form-control-bg form-control bg-e9ecef" id="piQtyAsSoNum">
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label class="control-label">PI Delivery</label>
                        <span class="custom-form-control-bg form-control bg-e9ecef" id="piDelivery">
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label class="control-label">PI Balance</label>
                        <span class="custom-form-control-bg form-control bg-e9ecef" id="piBalance1">
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliveryChallanPackMaster.REMARKS" class="control-label"></label>
                        <input asp-for="FFsDeliveryChallanPackMaster.REMARKS" class="form-control" />
                        <span asp-validation-for="FFsDeliveryChallanPackMaster.REMARKS" class="text-danger"></span>
                    </div>
                </div>
                <hr />
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">@Html.DisplayNameFor(model => model.FFsDeliveryChallanPackMaster.PI.PINO)</th>
                            <th scope="col">@Html.DisplayNameFor(model => model.FFsDeliveryChallanPackMaster.SO_NONavigation.STYLE.STYLENAME)</th>
                            <th scope="col">@Html.DisplayNameFor(model => model.FFsDeliveryChallanPackMaster.SO_NONavigation.QTY)</th>
                            <th scope="col">@Html.DisplayName($"Challan Quantity")</th>
                            <th scope="col">@Html.DisplayName($"Balance Quantity")</th>
                            <th scope="col">@Html.DisplayNameFor(model => model.FFsDeliveryChallanPackMaster.SO_NONavigation.UNIT)</th>
                        </tr>
                    </thead>
                    <tbody id="packingList">
                    </tbody>
                </table>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <h2 class="panel-title text-success"><i class="fa fa-adjust" aria-hidden="true"></i> Roll Information</h2>
                    <hr />
                </div>


                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliverychallanPackDetails.PACKING_LIST_ID" class="control-label"></label>
                        <div class="input-group mb-0">
                            <input asp-for="FFsDeliverychallanPackDetails.PACKING_LIST_ID" class="form-control" />
                            <div class="input-group-append">
                                <button class="btn btn-secondary" type="button" id="rollReload"><i class="fa fa-refresh" aria-hidden="true"></i></button>
                            </div>
                        </div>
                        <span asp-validation-for="FFsDeliverychallanPackDetails.PACKING_LIST_ID" class="text-danger"></span>
                    </div>
                </div>

                <div class="col-lg-2 col-md-3 col-sm-3 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliverychallanPackDetails.ISMANUAL" class="control-label">Is Manual?</label>
                        <div class="form-control custom-form-control">
                            <label class="switch">
                                <input asp-for="FFsDeliverychallanPackDetails.ISMANUAL" />
                                <span class="slider round"></span>
                                <span class="absolute-no">NO</span>
                            </label>
                            @* <input type="checkbox" id="FFsDeliverychallanPackDetails_ISMANUAL"/>*@
                        </div>
                        <span class="text-danger" asp-for="FFsDeliverychallanPackDetails.ISMANUAL"></span>
                    </div>
                </div>
                <div class="col-lg-7 col-md-7 col-sm-6 col-xs-12">
                    <div class="form-group">
                        <label asp-for="FFsDeliverychallanPackDetails.ROLL_NO_N" class="control-label"></label>
                        <input asp-for="FFsDeliverychallanPackDetails.ROLL_NO_N" class="form-control" />
                        <span asp-validation-for="FFsDeliverychallanPackDetails.ROLL_NO_N" class="text-danger"></span>
                    </div>
                </div>


                @*<div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliverychallanPackDetails.ROLL.ROLL_.ROLLNO" class="control-label"></label>
                            @Html.DropDownListFor(dt => dt.FFsDeliverychallanPackDetails.ROLL_NO, new SelectList(Model.FFsFabricRcvDetailsList, "TRNSID", "ROLL_.ROLLNO"), "Select Roll No.", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                            <span asp-validation-for="FFsDeliverychallanPackDetails.ROLL_NO" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label class="control-label">Qty [Mtr]</label>
                            <span class="custom-form-control-bg form-control bg-e9ecef" id="qty_m">
                                0
                            </span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliverychallanPackDetails.SHADE_GROUP" class="control-label"></label>
                            <input asp-for="FFsDeliverychallanPackDetails.SHADE_GROUP" class="form-control" />
                            <span asp-validation-for="FFsDeliverychallanPackDetails.SHADE_GROUP" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliverychallanPackDetails.LENGTH1" class="control-label"></label>
                            <input asp-for="FFsDeliverychallanPackDetails.LENGTH1" class="form-control" />
                            <span asp-validation-for="FFsDeliverychallanPackDetails.LENGTH1" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliverychallanPackDetails.LENGTH2" class="control-label"></label>
                            <input asp-for="FFsDeliverychallanPackDetails.LENGTH2" class="form-control" />
                            <span asp-validation-for="FFsDeliverychallanPackDetails.LENGTH2" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
                        <div class="form-group">
                            <label asp-for="FFsDeliverychallanPackDetails.REMARKS" class="control-label"></label>
                            <input asp-for="FFsDeliverychallanPackDetails.REMARKS" class="form-control" />
                            <span asp-validation-for="FFsDeliverychallanPackDetails.REMARKS" class="text-danger"></span>
                        </div>
                    </div>*@
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <button class="btn btn-success pull-right" type="submit" id="btn_submit">Create</button>
                    @*<button id="btnAddRoll" class="btn btn-success pull-right mr-2" type="button">Add</button>*@
                    <a asp-action="GetChallanList" class="btn btn-dark pull-right mr-2">Back to List</a>
                    <a asp-action="FabricDeliveryStatement_DO" asp-controller="Reports" asp-route-DoNo="@Model.FFsDeliveryChallanPackMaster.DO?.DONO" target="_blank" class="btn btn-info pull-right mr-2"><i class="fa fa-print"></i> Do Statement</a>
                    <a id="getChallanNo" class="btn btn-secondary pull-right mr-2 text-white">Get Challan No</a>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 table-responsive" id="rollDetails">
                    @await Html.PartialAsync($"~/Views/FFsPackingList/AddRollList.cshtml", Model)
                </div>
            </div>
        </div>
    </form>
</div>

@section Styles {
    <link href="~/css/CustomCSS/Stepper.css" rel="stylesheet" asp-append-version="true" />
}

@section Scripts {
    @{await Html.RenderPartialAsync($"_ValidationScriptPartial_Except_jQuery");}
    <script asp-append-version="true" src="~/js/custom-js/Stepper.js"></script>
    <script asp-append-version="true" src="~/js/DeliveryPackingList/CreatePackingList.js"></script>
    <script asp-append-version="true" type="text/javascript"></script>
}