@model RndProductionOrderViewModel

@{
    ViewData["Title"] = "Production Order (P.O.)";
    Layout = Layout;
}

<h4><i class="fa fa-edit fa-2x-custom text-warning" aria-hidden="true"></i> Edit @ViewData["Title"]</h4>
<hr />

<div class="container-fluid">
    <form id="form" asp-action="EditProductionOrder">
        <div class="panel panel-default">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="panel-body row">
                @Html.HiddenFor(c => c.RndProductionOrder.POID)
                @Html.HiddenFor(c => c.RndProductionOrder.EncryptedId)
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.OTYPEID" class="control-label"></label>
                        @Html.DropDownListFor(dy => dy.RndProductionOrder.OTYPEID, new SelectList(Model.RndOrderTypes, "OTYPEID", "OTYPENAME"), "Select Order Type", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="RndProductionOrder.OTYPEID" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.PIRCVDATE" class="control-label"></label>
                        <input asp-for="RndProductionOrder.PIRCVDATE" class="form-control" />
                        <span asp-validation-for="RndProductionOrder.PIRCVDATE" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.ORDERNO" class="control-label"></label>
                        @Html.DropDownListFor(dy => dy.RndProductionOrder.ORDERNO, new SelectList(Model.ComExPiDetailsList, "TRNSID", "SO_NO"), "Select Order No", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="RndProductionOrder.ORDERNO" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.ORPTID" class="control-label"></label>
                        @Html.DropDownListFor(dy => dy.RndProductionOrder.ORPTID, new SelectList(Model.RndOrderRepeats, "ORPTID", "ORPTNAME"), "Select Order Report", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="RndProductionOrder.ORPTID" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.ORDER_QTY_YDS" class="control-label"></label>
                        <input asp-for="RndProductionOrder.ORDER_QTY_YDS" class="form-control" readonly />
                        <span asp-validation-for="RndProductionOrder.ORDER_QTY_YDS" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.ORDER_QTY_MTR" class="control-label"></label>
                        <input asp-for="RndProductionOrder.ORDER_QTY_MTR" class="form-control" readonly />
                        <span asp-validation-for="RndProductionOrder.ORDER_QTY_MTR" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.WARP_LENGTH_MTR" class="control-label"></label>
                        <input asp-for="RndProductionOrder.WARP_LENGTH_MTR" class="form-control" readonly />
                        <span asp-validation-for="RndProductionOrder.WARP_LENGTH_MTR" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.GREY_LENGTH_MTR" class="control-label"></label>
                        <input asp-for="RndProductionOrder.GREY_LENGTH_MTR" class="form-control" readonly />
                        <span asp-validation-for="RndProductionOrder.GREY_LENGTH_MTR" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">P.I/P.O No.</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="piNo"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">PI Date</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="piDate"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Order Validity</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="validity"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Delivery Start</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="delStart"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Delivery Close</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="delClose"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Buyer Name</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="buyer"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">PDL Style No.</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="styleNo"></label>
                        </span>
                    </div>
                </div>
                @Html.HiddenFor(c => c.RndProductionOrder.DYENG_TYPE)
                @Html.HiddenFor(c => c.RndProductionOrder.LOOM_TYPE)
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Dyeing Type</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="dyeing"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Loom Type</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="loom"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.NO_OF_BALL" class="control-label"></label>
                        <input asp-for="RndProductionOrder.NO_OF_BALL" class="form-control" readonly />
                        <span asp-validation-for="RndProductionOrder.NO_OF_BALL" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.TOTAL_ENOS" class="control-label"></label>
                        <input asp-for="RndProductionOrder.TOTAL_ENOS" class="form-control" readonly />
                        <span asp-validation-for="RndProductionOrder.TOTAL_ENOS" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Factory Name</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="factory"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.MID" class="control-label"></label>
                        @Html.DropDownListFor(dy => dy.RndProductionOrder.MID, new SelectList(Model.RndMstrRolls, "MID", "MASTER_ROLL"), "Select Master Roll", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                        <span asp-validation-for="RndProductionOrder.MID" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Master Roll Lot</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="mLotNo"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <strong>
                            <label class="control-label">Supplier</label>
                        </strong>
                        <span class="custom-form-control-bg form-control bg-e9ecef">
                            <label id="mSupplier"></label>
                        </span>
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-4 col-xs-12">
                    <div class="form-group">
                        <label asp-for="RndProductionOrder.REMARKS" class="control-label"></label>
                        <input asp-for="RndProductionOrder.REMARKS" class="form-control" />
                        <span asp-validation-for="RndProductionOrder.REMARKS" class="text-danger"></span>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 table-responsive">
                    <table class="table">
                        <thead class="thead-light">
                            <tr>
                                <th>@Html.DisplayNameFor(e => e.RndFabricCountInfoViewModels.FirstOrDefault().RndFabricCountinfo.COUNT.COUNTNAME)</th>
                                <th>@Html.DisplayNameFor(e => e.RndFabricCountInfoViewModels.FirstOrDefault().RndFabricCountinfo.LOT.LOTNO)</th>
                                <th>@Html.DisplayNameFor(e => e.RndFabricCountInfoViewModels.FirstOrDefault().RndFabricCountinfo.RATIO)</th>
                                <th>@Html.DisplayNameFor(e => e.RndFabricCountInfoViewModels.FirstOrDefault().RndFabricCountinfo.NE)</th>
                                <th>@Html.DisplayNameFor(e => e.RndFabricCountInfoViewModels.FirstOrDefault().RndFabricCountinfo.YARNFOR)</th>
                                <th>@Html.DisplayName("Required Kgs")</th>
                            </tr>
                        </thead>
                        <tbody id="YarnDetails"></tbody>
                    </table>
                </div>


                @*@if (User.IsInRole("Planning(F)"))
                {
                            <div class="pl-1 col-12">
                                <h2 class="panel-title text-success">Planning Only</h2>
                                <hr />
                            </div>
                            <div class="col-3">
                                <div class="form-group">
                                    <label asp-for="PlOrderwiseLotInfo.LOTID" class="control-label"></label>
                                    @Html.DropDownListFor(dy => dy.PlOrderwiseLotInfo.LOTID, new SelectList(Model.BasYarnLotInfos, "LOTID", "LOTNO"), "Select Lot No.", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                                    <span asp-validation-for="PlOrderwiseLotInfo.LOTID" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="form-group">
                                    <label asp-for="PlOrderwiseLotInfo.YARNTYPE" class="control-label"></label>
                                    @Html.DropDownListFor(dy => dy.PlOrderwiseLotInfo.YARNTYPE, new SelectList(Model.Yarnfor, "YARNID", "YARNNAME"), "Select Yarn Type", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                                    <span asp-validation-for="PlOrderwiseLotInfo.YARNTYPE" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="form-group">
                                    <label asp-for="PlOrderwiseLotInfo.SUPPID" class="control-label"></label>
                                    @Html.DropDownListFor(dy => dy.PlOrderwiseLotInfo.SUPPID, new SelectList(Model.BasSupplierInfos, "SUPPID", "SUPPNAME"), "Select Supplier", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                                    <span asp-validation-for="PlOrderwiseLotInfo.SUPPID" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-3">
                                <div class="form-group">
                                    <label asp-for="PlOrderwiseLotInfo.REMARKS" class="control-label"></label>
                                    <input asp-for="PlOrderwiseLotInfo.REMARKS" class="form-control" />
                                    <span asp-validation-for="PlOrderwiseLotInfo.REMARKS" class="text-danger"></span>
                                </div>
                            </div>
                            <div class="col-12">
                                <button class="btn btn-warning pull-right" type="submit">Update</button>
                                <button id="btnLotAdd" class="btn btn-success pull-right" type="button">Add</button>
                                <button class="btn btn-info prevBtn pull-right" type="button">Prev</button>
                                <a asp-action="GetProductionOrder" class="btn btn-dark pull-right mr-2">Back to List</a>
                            </div>
                        <div class="table-responsive" id="YarnLotInfoDetails"></div>
                }*@

                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    @*@if (User.IsInRole("Planning(F)"))
                    {
                        <button class="btn btn-info nextBtn pull-right" type="button">Next</button>
                    }
                    else
                    {
                        <button class="btn btn-warning pull-right" type="submit">Update</button>
                    }*@
                    <button class="btn btn-warning pull-right" type="submit">Update</button>
                    <a asp-action="GetProductionOrder" class="btn btn-dark pull-right">Back to List</a>
                </div>
            </div>
        </div>

    </form>
</div>

@section Styles {
    <link href="~/css/CustomCSS/Stepper.css" rel="stylesheet" asp-append-version="true" />
}

@section Scripts {
    @*@{await Html.RenderPartialAsync($"_ValidationScriptPartial_Except_jQuery");}*@
    <script asp-append-version="true" src="~/js/custom-js/Stepper.js"></script>
    <script asp-append-version="true" src="~/js/rndProduction/rndProductionOrder.js"></script>
}