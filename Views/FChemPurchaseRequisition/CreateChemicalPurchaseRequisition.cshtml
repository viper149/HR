
@model FChemicalRequisitionViewModel

@{
    ViewData["Title"] = "Chemical Purchase Requisition";
}

<h2><i class="fa fa-plus-circle text-success" aria-hidden="true"></i> Create @ViewData["Title"]</h2>

<div class="container-fluid">
    <form asp-action="PostCreateChemicalPurchaseRequisition" enctype="multipart/form-data" id="form" role="form">
        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
        <div class="panel-body row">
            <div class="col-12 p-0">
                <div class="col-6 pull-left">
                    <h2 class="panel-title text-success"><i class="fa fa-flask" aria-hidden="true"></i> Basic Information</h2>
                </div>
                <div class="col-6 pull-right">
                    <div class="custom-control custom-switch float-right">
                        <input asp-for="FChemPurchaseRequisitionMaster.STATUS" class="custom-control-input" type="checkbox">
                        <label asp-for="FChemPurchaseRequisitionMaster.STATUS" class="custom-control-label"></label>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <hr />
            </div>

            <div class="col-3">
                <div class="form-group">
                    <label asp-for="FChemPurchaseRequisitionMaster.INDSLDATE" class="control-label"></label>
                    <input asp-for="FChemPurchaseRequisitionMaster.INDSLDATE" class="form-control" />
                    <span asp-validation-for="FChemPurchaseRequisitionMaster.INDSLDATE" class="text-danger"></span>
                </div>
            </div>
            <div class="col-3">
                <div class="form-group">
                    <label asp-for="FChemPurchaseRequisitionMaster.DEPTID" class="control-label"></label>
                    @Html.DropDownListFor(dt => dt.FChemPurchaseRequisitionMaster.DEPTID, new SelectList(Model.DepartmentList, "DEPTID", "DEPTNAME", Model.DepartmentList.Select(e => e.DEPTID)),
                        "Select Department", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                    <span asp-validation-for="FChemPurchaseRequisitionMaster.DEPTID" class="text-danger"></span>
                </div>
            </div>
            <div class="col-3">
                <div class="form-group">
                    <label asp-for="FChemPurchaseRequisitionMaster.SECID" class="control-label"></label>
                    @Html.DropDownListFor(dt => dt.FChemPurchaseRequisitionMaster.SECID, new SelectList(Model.FBasSectionList, "SECID", "SECNAME", Model.FBasSectionList.Select(e => e.SECID)),
                        "Select Section", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                    <span asp-validation-for="FChemPurchaseRequisitionMaster.SECID" class="text-danger"></span>
                </div>
            </div>
            <div class="col-3">
                <div class="form-group">
                    <label asp-for="FChemPurchaseRequisitionMaster.FBasSubsection.SSECNAME" class="control-label"></label>
                    @Html.DropDownListFor(dt => dt.FChemPurchaseRequisitionMaster.SSECID, new SelectList(Model.FBasSubsections, "SSECID", "SSECNAME", Model.FBasSubsections.Select(e => e.SSECID)),
                        "Select Sub Section", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                    <span asp-validation-for="FChemPurchaseRequisitionMaster.SSECID" class="text-danger"></span>
                </div>
            </div>
            <div class="col-3">
                <div class="form-group">
                    <label asp-for="FChemPurchaseRequisitionMaster.EMPID" class="control-label">@nameof(Model.FChemPurchaseRequisitionMaster.Employee)</label>
                    @Html.DropDownListFor(dt => dt.FChemPurchaseRequisitionMaster.EMPID, new SelectList(Model.FHrEmployeesList, "EMPID", "EMPNO", Model.FHrEmployeesList.Where(e => e.EMPNO.ToLowerInvariant().Contains("mizan")).Select(e => e.EMPID).FirstOrDefault()), "Select An Employee", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                    <span asp-validation-for="FChemPurchaseRequisitionMaster.EMPID" class="text-danger"></span>
                </div>
            </div>
            <div class="col-3">
                <div class="form-group">
                    <label asp-for="FChemPurchaseRequisitionMaster.CN_PERSON" class="control-label"></label>
                    @Html.DropDownListFor(dt => dt.FChemPurchaseRequisitionMaster.CN_PERSON, new SelectList(Model.FHrEmployeesList, "EMPID", "EMPNO", Model.FHrEmployeesList.Where(e => e.EMPNO.ToLowerInvariant().Contains("mizan")).Select(e => e.EMPID).FirstOrDefault()), "Select An Employee", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                    <span asp-validation-for="FChemPurchaseRequisitionMaster.CN_PERSON" class="text-danger"></span>
                </div>
            </div>
            <div class="col-3">
                <div class="form-group">
                    <label asp-for="FChemPurchaseRequisitionMaster.REMARKS" class="control-label"></label>
                    <input asp-for="FChemPurchaseRequisitionMaster.REMARKS" class="form-control" />
                    <span asp-validation-for="FChemPurchaseRequisitionMaster.REMARKS" class="text-danger"></span>
                </div>
            </div>
            <div class="col-12">
                <h2 class="panel-title text-success"><i class="fa fa-eye" aria-hidden="true"></i> Chemical Details</h2>
                <hr />
            </div>
            <div class="col-3">
                <div class="form-group">
                    <label asp-for="FChemStoreIndentdetails.PRODUCTID" class="control-label"></label>
                    @Html.DropDownListFor(dt => dt.FChemStoreIndentdetails.PRODUCTID, new SelectList(Model.FChemStoreProductinfoList, "PRODUCTID", "PRODUCTNAME"), "Select Materials", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                    <span asp-validation-for="FChemStoreIndentdetails.PRODUCTID" class="text-danger"></span>
                </div>
            </div>
            <div class="col-2">
                <div class="form-group">
                    <label asp-for="FChemStoreIndentdetails.UNIT" class="control-label"></label>
                    @Html.DropDownListFor(dt => dt.FChemStoreIndentdetails.UNIT, new SelectList(Model.BasUnits, "UID", "UNAME", Model.BasUnits.FirstOrDefault()?.UID), "Select An Unit", htmlAttributes: new { @class = "form-control js-example-basic-single" })
                    <span asp-validation-for="FChemStoreIndentdetails.UNIT" class="text-danger"></span>
                </div>
            </div>

            <div class="col-2">
                <div class="form-group">
                    <label asp-for="FChemStoreIndentdetails.QTY" class="control-label"></label>
                    <input asp-for="FChemStoreIndentdetails.QTY" class="form-control" />
                    <span asp-validation-for="FChemStoreIndentdetails.QTY" class="text-danger"></span>
                </div>
            </div>
            <div class="col-2">
                <div class="form-group">
                    <label asp-for="FChemStoreIndentdetails.REMARKS" class="control-label"></label>
                    <input asp-for="FChemStoreIndentdetails.REMARKS" class="form-control" />
                    <span asp-validation-for="FChemStoreIndentdetails.REMARKS" class="text-danger"></span>
                </div>
            </div>
            <div class="col-12">
                <button class="btn btn-info nextBtn pull-right" disabled="disabled" id="btn_submit" type="submit">Create</button>
                <button class="btn btn-success pull-right" id="btnAdd" type="button">Add</button>
                <a asp-action="GetPurchaseRequisition" class="btn btn-dark pull-right">Back to List</a>
            </div>

            <div class="col-12 table-responsive table-hover" id="chemPurchaseTable"></div>
        </div>
    </form>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync($"_ValidationScriptPartial_Except_jQuery");}
    <script asp-append-version="true" src="~/js/ChemicalStore/Requisition/CreateChemicalRequistion.js"></script>
}