
@model ComExInvoiceMasterCreateViewModel

<!--<div class="row">
    <div class="col-6">
        <div class="tile-stats">
            <div class="icon"><i class="fa fa-balance-scale" aria-hidden="true"></i></div>
            <div class="count text-warning">@Html.Raw($"{Model.ComExInvoicemaster.LC?.VALUE ?? 0:N}")</div>
            <h3>L/C Value</h3>
        </div>
    </div>-->
    @*<div class="col-6">
        <div class="tile-stats">
            <div class="icon"><i class="fa fa-hourglass-end" aria-hidden="true"></i></div>
            <div class="count text-danger" id="remaining"></div>
            <h3>Remaining Balance</h3>
        </div>
    </div>*@
<!--</div>-->

@if (Model.ComExInvdetailses.Any())
{
    <table class="table">
        <thead class="thead-light">
            <tr>
                <th scope="col">#</th>
                <th scope="col">@Html.DisplayNameFor(model => model.ComExInvdetails.ComExFabstyle.FABCODENavigation.STYLE_NAME)</th>
                <th scope="col">@Html.DisplayNameFor(model => model.ComExInvdetails.ROLL)</th>
                <th scope="col">@Html.DisplayNameFor(model => model.ComExInvdetails.QTY)</th>
                <th scope="col">@Html.DisplayNameFor(model => model.ComExInvdetails.RATE)</th>
                <th scope="col">@Html.DisplayNameFor(model => model.ComExInvdetails.AMOUNT)</th>
                <th scope="col">@Html.DisplayNameFor(model => model.ComExInvdetails.REMARKS)</th>
                <th scope="col">@Html.DisplayName("Actions")</th>
            </tr>
        </thead>
        <tbody>
            @for (var i = 0; i < Model.ComExInvdetailses.Count; i++)
            {
                <tr>
                    <td>@Html.Raw(Model.ComExInvdetailses[i].TRNSID > 0 ? $"<i class=\"fa fa-database text-danger\" aria-hidden=\"true\"></i> {i + 1}" : $"<i class=\"fa fa-plus-circle text-success\" aria-hidden=\"true\"></i> {i + 1}")</td>
                    <td>
                        @Html.HiddenFor(ind => ind.ComExInvdetailses[i].TRNSID)
                        @Html.HiddenFor(ind => ind.ComExInvdetailses[i].STYLEID)
                        @Html.HiddenFor(ind => ind.ComExInvdetailses[i].PIIDD_TRNSID)
                        @if (Model.ComExInvdetailses[i].IS_OLD)
                        {
                            @Model.ComExInvdetailses[i].PiDetails?.STYLE?.FABCODENavigation?.STYLE_NAME
                        }
                        else
                        {
                            @Model.ComExInvdetailses[i].ComExFabstyle?.FABCODENavigation?.STYLE_NAME
                        }
                    </td>
                    <td>
                        @Html.HiddenFor(ind => ind.ComExInvdetailses[i].ROLL)
                        @Model.ComExInvdetailses[i].ROLL
                    </td>
                    <td>
                        @Html.HiddenFor(ind => ind.ComExInvdetailses[i].QTY)
                        @Model.ComExInvdetailses[i].QTY
                    </td>
                    <td>
                        @Html.HiddenFor(ind => ind.ComExInvdetailses[i].RATE)
                        @Model.ComExInvdetailses[i].RATE
                    </td>
                    <td>
                        @Html.HiddenFor(ind => ind.ComExInvdetailses[i].AMOUNT)
                        @Model.ComExInvdetailses[i].AMOUNT
                    </td>
                    <td>
                        @Html.HiddenFor(ind => ind.ComExInvdetailses[i].REMARKS)
                        @Model.ComExInvdetailses[i].REMARKS
                    </td>
                    <td>
                        @{
                            if (Model.ComExInvdetailses[i].TRNSID > 0)
                            {
                                <i class="fa fa-edit fa-lg text-warning cursor-pointer" onclick="EditInvInfo('@Model.ComExInvdetailses[i].TRNSID');" aria-hidden="true"></i>
                            }
                        }
                        <i class="fa fa-trash fa-lg text-danger text-center" onclick="RemoveExportInvDetails(@i)" aria-hidden="true"></i>
                    </td>
                    @*<td>
                            @if (Model.ComExInvdetailses[i].TRNSID > 0)
                            {
                                <i class="fa fa-ban text-danger" aria-hidden="true"> Non Removable</i>
                            }
                            else
                            {
                                <i class="fa fa-trash fa-lg text-danger text-center" onclick="RemoveExportInvoiceDetails(@i)" aria-hidden="true"></i>
                            }
                        </td>*@
                </tr>
            }

        <tr>
            <td>Total</td>
            <td>:</td>
            <td></td>

            <td>@Model.ComExInvdetailses.Sum(e => e.QTY)</td>
            <td></td>
            <td id="tot_inv_value">@Model.ComExInvdetailses.Sum(e => e.AMOUNT)</td>
            <td></td>
            <td></td>
        </tr>

        </tbody>
    </table>
}